<div class="app">
  <div class="section">
    <div class="card">
      <h2>Details</h2>
      <p>Name: {{ patient().name }}</p>
      <p>Phone: {{ patient().phone }}</p>
      <p>Location: {{ patient().location }}</p>
      <p>Family Members: {{ patient().family.join(", ") }}</p>
    </div>
    <form class="card" (submit)="addFamilyMember()">
      <h2>Add Member</h2>
      <input type="text" placeholder="Member ID" [formControl]="addMember" />
      <button type="submit">Add</button>
    </form>
    <form class="card" (submit)="deleteFamilyMember()">
      <h2>Delete Member</h2>
      <input type="text" placeholder="Member ID" [formControl]="deleteMember" />
      <button type="submit">Member</button>
    </form>
  </div>

  <h1>Check Reports</h1>
  <div>
    <div>
      Select One:
      @if (currentSection() > 0) {
        <span (click)="currentSection.set(1)">Hospitals</span>
      }
      @if (currentSection() > 1) {
        {{ " >" }} <span (click)="currentSection.set(2)">Reports</span>
      }
      @if (currentSection() > 2) {
        {{ " >" }} <span (click)="currentSection.set(3)">Medical Report</span>
      }
    </div>
    <div class="section">
      @if (currentSection() == 1) {
        @for (hospital of hospitals(); track hospital.userId) {
          <div class="card" (click)="getReports(hospital.userId)">
            <p>Email: {{ hospital.userId }}</p>
            <p>Name: {{ hospital.name }}</p>
            <p>Phone: {{ hospital.phone }}</p>
            <p>Location: {{ hospital.location }}</p>
          </div>
        }
      }
      @if (currentSection() == 2) {
        @for (report of reports(); track report.entryId) {
          <div class="card" (click)="getMedicalReport(report.entryId)">
            <p>Report ID: {{ report.reportId }}</p>
          </div>
        }
      }
      @if (currentSection() == 3) {
        <div class="card">
          @for (section of medicalReport().section; track $index) {
            <h3 style="text-align: left">{{ section.question }}</h3>
            <p>{{ section.answer }}</p>
          }
        </div>
      }
    </div>
  </div>
</div>
